---

title: Flask app from smart-on-fhir/client-py/README.md


keywords: fastai
sidebar: home_sidebar

summary: "Getting started with Flask using client-py."
description: "Getting started with Flask using client-py."
nb_path: "51_flask_client_py_readme.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 51_flask_client_py_readme.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="TODO">TODO<a class="anchor-link" href="#TODO"> </a></h1><ul>
<li>find a replacement for Beaker/flaskbeaker - if we need one</li>
<li>fix <code>from smart_on_fhir_client_py_demo.? import ?</code><ul>
<li><code>ImportError: attempted relative import with no known parent package</code></li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Getting-started">Getting started<a class="anchor-link" href="#Getting-started"> </a></h1><p>Please see index.ipynb and set things up to run on your own machine.</p>
<p>See also: <a href="https://github.com/smart-on-fhir/client-py">https://github.com/smart-on-fhir/client-py</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Code-and-test-a-simple-flask-app">Code and test a simple flask app<a class="anchor-link" href="#Code-and-test-a-simple-flask-app"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="App-setup">App setup<a class="anchor-link" href="#App-setup"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>True</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Helper-functions">Helper functions<a class="anchor-link" href="#Helper-functions"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">smart</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">FHIRClient</span><span class="p">(</span><span class="n">settings</span><span class="o">=</span><span class="n">smart_defaults</span><span class="p">)</span>
<span class="n">resource_to_string</span><span class="p">(</span><span class="n">_get_patients</span><span class="p">(</span><span class="n">smart</span><span class="p">)[:</span><span class="mi">5</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;Patient {&#34;id&#34;: &#34;history-1001&#34;, &#34;meta&#34;: {&#34;lastUpdated&#34;: &#34;2020-11-15T19:52:00.676-05:00&#34;, &#34;securit ...&#39;,
 &#39;Patient {&#34;id&#34;: &#34;54cd03d31c704327aae493302b6cde88&#34;, &#34;meta&#34;: {&#34;lastUpdated&#34;: &#34;2021-01-22T10:48:34. ...&#39;,
 &#39;Patient {&#34;id&#34;: &#34;bac66735217842a0b839fed35a7a1fc4&#34;, &#34;meta&#34;: {&#34;lastUpdated&#34;: &#34;2021-01-22T10:48:34. ...&#39;,
 &#39;Patient {&#34;id&#34;: &#34;500377072fa14833bf38b55dfbab37cf&#34;, &#34;meta&#34;: {&#34;lastUpdated&#34;: &#34;2021-01-22T10:48:34. ...&#39;,
 &#39;Patient {&#34;id&#34;: &#34;1c36a99a220c4cb884e50a24f2674e65&#34;, &#34;meta&#34;: {&#34;lastUpdated&#34;: &#34;2021-01-22T10:48:35. ...&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Views">Views<a class="anchor-link" href="#Views"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="index" class="doc_header"><code>index</code><a href="https://github.com/pete88b/smart_on_fhir_client_py_demo/tree/main/smart_on_fhir_client_py_demo/flask_client_py_readme.py#L88" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>index</code>()</p>
</blockquote>
<p>The app's main page.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="callback" class="doc_header"><code>callback</code><a href="https://github.com/pete88b/smart_on_fhir_client_py_demo/tree/main/smart_on_fhir_client_py_demo/flask_client_py_readme.py#L135" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>callback</code>()</p>
</blockquote>
<p>OAuth2 callback interception.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="logout" class="doc_header"><code>logout</code><a href="https://github.com/pete88b/smart_on_fhir_client_py_demo/tree/main/smart_on_fhir_client_py_demo/flask_client_py_readme.py#L147" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>logout</code>()</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="reset" class="doc_header"><code>reset</code><a href="https://github.com/pete88b/smart_on_fhir_client_py_demo/tree/main/smart_on_fhir_client_py_demo/flask_client_py_readme.py#L153" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>reset</code>()</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Start-the-app">Start the app<a class="anchor-link" href="#Start-the-app"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Convert-this-notebook-to-a-python-module">Convert this notebook to a python module<a class="anchor-link" href="#Convert-this-notebook-to-a-python-module"> </a></h2><p>After making changes to this notebook, we need to get nbdev to re-create the <code>flask_client_py_readme.py</code> file.</p>
<p>We can do this in code &darr; or from the command line with <code>nbdev_build_lib</code></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">nbdev.export</span> <span class="kn">import</span> <span class="n">notebook2script</span>
<span class="n">notebook2script</span><span class="p">(</span><span class="s1">&#39;51_flask_client_py_readme.ipynb&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Converted 51_flask_client_py_readme.ipynb.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Run-the-flask-app">Run the flask app<a class="anchor-link" href="#Run-the-flask-app"> </a></h2><p>Now we can run <code>python smart_on_fhir_client_py_demo/flask_client_py_readme.py</code> from the command line and hit</p>
<ul>
<li><a href="http://localhost:8000/">http://localhost:8000/</a></li>
</ul>

</div>
</div>
</div>
</div>
 


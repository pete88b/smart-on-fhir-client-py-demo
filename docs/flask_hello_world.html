---

title: Hello World flask app


keywords: fastai
sidebar: home_sidebar

summary: "Getting started with Flask in nbdev."
description: "Getting started with Flask in nbdev."
nb_path: "50_flask_hello_world.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 50_flask_hello_world.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Getting-started">Getting started<a class="anchor-link" href="#Getting-started"> </a></h1><p>Please see index.ipynb and set things up to run on your own machine.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Code-and-test-a-simple-flask-app">Code and test a simple flask app<a class="anchor-link" href="#Code-and-test-a-simple-flask-app"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="create_app" class="doc_header"><code>create_app</code><a href="https://github.com/pete88b/smart_on_fhir_client_py_demo/tree/main/smart_on_fhir_client_py_demo/flask_hello_world.py#L9" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>create_app</code>(<strong><code>test_config</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Create and configure an instance of the Flask application.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>&darr; make sure we can create the app with/without specifying config</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="ow">not</span> <span class="n">create_app</span><span class="p">()</span><span class="o">.</span><span class="n">testing</span>
<span class="k">assert</span> <span class="n">create_app</span><span class="p">({</span><span class="s2">&quot;TESTING&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span><span class="o">.</span><span class="n">testing</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>&darr; make requests against a test client to show that we can <code>GET</code> the <code>/hello</code> route with/without specifying a name</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">create_app</span><span class="p">({</span><span class="s2">&quot;TESTING&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">test_client</span><span class="p">()</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/hello/Pieter van de Heuvel, MSc&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">response</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="sa">b</span><span class="s2">&quot;Hello, Pieter van de Heuvel, MSc!&quot;</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">response</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="sa">b</span><span class="s2">&quot;Hello, World!&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The next cell just says "run the app if we're running from the command line".  We use <code>IN_NOTEBOOK</code> to avoid running the app when we're in the notebook.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Convert-this-notebook-to-a-python-module">Convert this notebook to a python module<a class="anchor-link" href="#Convert-this-notebook-to-a-python-module"> </a></h2><p>After making changes to this notebook, we need to get nbdev to re-create the <code>flask_hello_world.py</code> file.</p>
<p>We can do this in code &darr; or from the command line with <code>nbdev_build_lib</code></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">nbdev.export</span> <span class="kn">import</span> <span class="n">notebook2script</span>
<span class="n">notebook2script</span><span class="p">(</span><span class="s1">&#39;50_flask_app.ipynb&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Run-the-flask-app">Run the flask app<a class="anchor-link" href="#Run-the-flask-app"> </a></h2><p>Now we can run <code>python smart_on_fhir_client_py_demo/flask_hello_world.py</code> from the command line and hit URLs like</p>
<ul>
<li><a href="http://localhost:8000/">http://localhost:8000/</a> and </li>
<li><a href="http://localhost:8000/hello/Pieter%20van%20de%20Heuvel,%20MSc">http://localhost:8000/hello/Pieter%20van%20de%20Heuvel,%20MSc</a></li>
</ul>

</div>
</div>
</div>
</div>
 

